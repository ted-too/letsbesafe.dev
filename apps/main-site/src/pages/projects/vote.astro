---
import api from "../../utils/api";
import Layout from "../../Layout.astro";
import getTheme from "ui/utils/getTheme";
import { LinkButton } from "ui/kit-new/buttons";
import VoteIdeas from "../../components/vote/idea";

const theme = getTheme(Astro);
const ideas = await api.records.getFullList("new_ideas")
console.log(ideas)
---

<Layout theme={theme}>
  <div
    class="flex flex-col items-center w-full space-y-14 sm:space-y-20 lg:space-y-32 max-w-[90vw] xs:max-w-[87vw] 2.5xl:max-w-none 2.5xl:px-12 mb-36 sm:max-w-none"
  >
    <div class="flex flex-col items-center space-y-1 sm:space-y-4 max-w-[60rem]">
      <h1 class="lg:mt-4 xl:mt-[2.5rem] font-bold text-3xl lg:text-5xl xl:text-6xl text-primary">Vote</h1>
      <span class="text-lg font-light text-center sm:text-xl lg:text-2xl">
        Help decide what we should add to the project
      </span>
    </div>
    <LinkButton to="/projects/new-idea" size='lg' class="mt-6 text-lg font-light sm:mt-10 sm:text-xl" client:visible>Submit a new idea</LinkButton>
    <VoteIdeas class="mt-12 sm:mt-20" data={ideas} client:visible />
  </div>
</Layout>
